<div class="title">
  <app-go-back label="Volver al Menú" url="inicio" mode="dark"></app-go-back>
  <h1 class="page-title">Reservar Turno</h1>
</div>

<div class="logosubrayado"></div>

<form class="form">
  <div class="fecha-hora">
    <app-input-date
      label="Día"
      name="fecha"
      [fromDate]="minDate"
      [toDate]="maxDate"
      (dateSelected)="onDateSelected($event)"
    ></app-input-date>

    <div class="field hora">
      <label for="hora"
        ><span class="label-icon"><fa-icon [icon]="faClock"></fa-icon></span>
        Hora</label
      >
      <div class="input-icon">
        <select id="hora" name="hora" [(ngModel)]="hora">
          @for (hora of horasDisponibles; track $index) {
          <option [disabled]="!hora.disponible" [value]="hora.hora">
            {{ hora.hora }}
          </option>
          }
        </select>
        <span class="icon-field"
          ><fa-icon [icon]="faChevronDown"></fa-icon
        ></span>
      </div>
    </div>
  </div>

  <div class="parrilla-rival">
    <app-input-check-box
      label="Parrilla"
      [icon]="faUtensils"
      [(value)]="parrilla"
      (valueChange)="loadPrecio()"
      name="parrilla"
      mode="dark"
    ></app-input-check-box>

    <app-input-check-box
      label="Buscar Rival"
      [icon]="faUserPlus"
      [(value)]="rival"
      (valueChange)="loadPrecio()"
      name="rival"
      mode="dark"
    ></app-input-check-box>
  </div>

  <div class="total">
    <div class="total-box">
      <span class="total-label">Seña{{ rival ? " por equipo:" : ":" }}</span>
      <span class="total-amount">
        {{ senia | currency : "$" : "symbol" : "1.0-0" }}
      </span>
    </div>
    <div class="total-box">
      <span class="total-label">Total{{ rival ? " por equipo:" : ":" }}</span>
      <span class="total-amount">
        {{ precio | currency : "$" : "symbol" : "1.0-0" }}
      </span>
    </div>
  </div>

  <div class="buttons">
    <app-button4 (click)="cancelar()" text="Cancelar"></app-button4>
    <app-button3 (click)="reservar()" text="Confirmar Reserva"></app-button3>
  </div>

  @if (loading) {
  <app-spinner mode="dark" [centrado]="true" size="md"></app-spinner>
  }
</form>
